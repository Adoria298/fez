from flask import Flask, render_template, request, redirect

app = Flask(__name__)
messages = []

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/view/<messages>')
def hello(messages):
    return render_template('view.html', messages=messages)

@app.route('/handle_data', methods=['POST'])
def handle_data():
    if request.form.get('submit') == 'Send':
        print(request.form['message'])
        message = request.form['message']
        messages.append(message)
        return redirect('/view/'+str(messages), code=302)
    elif request.form.get('submit') == 'Refresh':
        return redirect('/view/'+str(messages), code=302)
    else:
        return redirect('/view/'+str(messages), code=302)
   return redirect('/view/'+str(messages), code=302)

if __name__ == '__main__':
    app.run(debug=True, host='0.0.0.0')


